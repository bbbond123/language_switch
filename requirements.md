# Project Requirements

## Overview
Developing an iOS and macOS application.

## Overview
这是一个 macOS 菜单栏应用程序（Menu Bar App），旨在快速切换不同的输入法/语言配置集合。用户可以通过点击菜单栏图标，在预设的语言列表组合之间进行切换，从而避免频繁进入系统设置手动添加或删除输入法。

## Overview
这是一个 macOS 菜单栏应用程序（Menu Bar App），旨在快速切换不同的输入法/语言配置集合。用户可以通过点击菜单栏图标，在预设的语言列表组合之间进行切换，从而避免频繁进入系统设置手动添加或删除输入法。

## Core Features (核心功能)
1. **平台**: macOS 独占。
2. **交互方式**:
   - **菜单栏图标**: 常驻 macOS 菜单栏。
   - **点击行为**: 点击图标在预设的“配置集”之间循环切换 (Toggle/Cycle)。
     - *例如*: 当前是 [配置A] -> 点击 -> 变为 [配置B] -> 点击 -> 变为 [配置A]。
   - **右键/长按**: 打开设置菜单，用于管理配置集。
3. **核心逻辑**:
   - **配置集 (Profiles)**: 用户可以定义不同的输入法组合。
     - *场景举例 1 (日常)*: 仅中文 + 英文。
     - *场景举例 2 (学习)*: 中文 + 英文 + 日语。
   - **动态修改**: 切换配置集时，程序会自动修改系统当前的“已启用输入法列表”。

## User Pain Point (解决痛点)
- 解决用户在不同工作流下需要不同输入法组合，但不想每次都去“系统设置 -> 键盘 -> 输入法”中手动添加或删除的繁琐过程。

## Technical Constraints & Research (技术调研方向)
- **API**: 需要使用 Carbon 框架中的 `TISInputSource` 相关 API (Text Input Source Services)。
- **权限**: 可能需要辅助功能权限或特定的沙盒设置（待验证）。
- **关键能力**:
  - 获取当前已启用的输入法列表。
  - 启用/禁用指定的输入法。
  - 能够保存用户定义的输入法组合。
